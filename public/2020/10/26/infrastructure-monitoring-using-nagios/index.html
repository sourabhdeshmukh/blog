<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="keywords" content="sourabhdeshmukh, blog, website, sourabhdeshmukh.in, personal blog">
  <meta name="description" content="sourabhdeshmukh.in | Cloud of information">
  <meta name="author" content="Sourabh Deshmukh">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Infrastructure Monitoring Using Nagios &middot; SourabhDeshmukh
    
  </title>

  
  <link rel="stylesheet" href="https://sourabhdeshmukh.in/css/poole.css">
  <link rel="stylesheet" href="https://sourabhdeshmukh.in/css/syntax.css">
  <link rel="stylesheet" href="https://sourabhdeshmukh.in/css/lanyon.css">
  <link rel="stylesheet" href="https://sourabhdeshmukh.in/css/footer.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

   
  <link rel="apple-icon-precomposed" sizes="144x144" href="https://sourabhdeshmukh.in/assets/apple-icon-precomposed.png">
  <link rel="shortcut icon" href="https://sourabhdeshmukh.in/assets/favicon.ico">

  
  
  <script data-ad-client="ca-pub-3533171353280390" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>


  <body>

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <figure>
     <p> <a href="https://sourabhdeshmukh.in/" target="_blank"><img src="https://sourabhdeshmukh.in/assets/sd_white.png" alt="sourabhdeshmukh" style="vertical-align:middle" /></a></p>
    <figcaption><b>sourabhdeshmukh.in</b></figcaption>
    </figure>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="https://sourabhdeshmukh.in/">Home</a>
    <a class="sidebar-nav-item " href="https://sourabhdeshmukh.in/post">Posts</a>
    <a class="sidebar-nav-item " href="https://sourabhdeshmukh.in/tags">Tags</a>
    <a class="sidebar-nav-item " href="https://sourabhdeshmukh.in/categories">Categories</a>
  </nav>

  <div>
        <a href="https://www.twitter.com/100rabhdeshmukh" target="_blank" class="sidebar-social-icon"><img src="https://sourabhdeshmukh.in/social/Twitter.png" alt="Twitter" width="30px" height="30px"/></a>  
    	<a href="https://www.linkedin.com/in/sourabh-deshmukh" target="_blank" class="sidebar-social-icon"><img src="https://sourabhdeshmukh.in/social/LinkedIn.png" alt="LinkedIn" width="30px" height="30px"/></a> 
    	<a href="https://www.github.com/sourabhdeshmukh" target="_blank" class="sidebar-social-icon"><img src="https://sourabhdeshmukh.in/social/Github.png" alt="Github" width="30px" height="30px" /></a> 
    	<a href="mailto:mail@sourabhdeshmukh.in" target="_blank" class="sidebar-social-icon"><img src="https://sourabhdeshmukh.in/social/Mail.png" alt="Mail" width="30px" height="30px"/></a>    
  </div>
  <div class="sidebar-item">
    <p>&copy; 2020. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://sourabhdeshmukh.in/" title="Home">SourabhDeshmukh</a>
            <small>Cloud of information</small>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="post">
  <h1 class="post-title">Infrastructure Monitoring Using Nagios</h1>
  <span class="post-date">Oct 26, 2020</span>
  <h1 id="nagios">Nagios</h1>
<h2 id="what-is-nagios">What is Nagios?</h2>
<p>Nagios is a Monitoring tool used for IT Infrastructure Monitoring to maintain zero downtime for your Applications, Services, Systems, Databases and Business Processes etc. Nagios helps to detect failures and can be configured to alert technical staff so that the failures gets detected early and remediation process can be carried out before it affects entire Infrastructure or Customers.</p>
<h2 id="nagios-products--">Nagios Products -</h2>
<p>Nagios has four product according to your needs.</p>
<ul>
<li>Nagios XI</li>
<li>Nagios Fusion</li>
<li>Nagios Core</li>
<li>Nagios Network Analyzer</li>
<li>Nagios Log Server</li>
</ul>
<p>You can find <a href="https://bit.ly/3mpk25O">Demo</a> of all this tools provides by official Nagios Website.</p>
<p>You can get Download this tools from <a href="https://bit.ly/3mpk25O">here</a>.</p>
<h2 id="nagios-core">Nagios Core</h2>
<h3 id="summary--">Summary -</h3>
<p>Nagios core is free whereas other products of Nagios are paid tools. Nagios Core comes with less features compared with paid version of Nagios XI.</p>
<h3 id="benefits--">Benefits -</h3>
<p>The benefits you get from using Nagios Core are</p>
<ul>
<li>Monitoring</li>
<li>Alerting</li>
<li>Response</li>
<li>Reporting</li>
<li>Maintenace</li>
<li>Planning</li>
</ul>
<h3 id="features--">Features -</h3>
<table border="0">
<tr>
<td>Visibility</td>
<td>Reporting</td>
<td>Proactive Planning</td>
<td>Awareness</td>
</tr>
<tr>
<td>Problem Remediation</td>
<td>Comprehensive Monitoring</td>
<td>Multi-Tenant Capabilities</td>
<td>Extendable Architecture</td>
</tr>
</table>
<p>If you want to know more visit <a href="https://www.nagios.com/products/nagios-core/#benefits">Benefits</a> and <a href="https://www.nagios.com/products/nagios-core/#features">Features</a> of Nagios Core.</p>
<h3 id="nagios-core-installation-on-centos">Nagios Core Installation on Centos</h3>
<p>I will be using Centos 8 minimal image for demonstration. For other distributions or OS refer to the following <a href="https://assets.nagios.com/downloads/nagioscore/docs/nagioscore/4/en/quickstart.html">documetation</a>.</p>
<h4 id="prerequisite--">Prerequisite -</h4>
<p>Disable SELinux as we dont need it for demonstration. You can configure it according to your needs.</p>
<pre><code>$ sed -i 's/SELINUX=.*/SELINUX=disabled/g' /etc/selinux/config
$ setenforce 0
</code></pre><p>Check the current status of your SELinux mode using following command.</p>
<pre><code>$ getenforce
</code></pre><p>The following dependencies are required for building and running nagios on you system.</p>
<pre><code>$ dnf install -y gcc glibc glibc-common perl httpd php wget gd gd-devel
</code></pre><h4 id="instalation-from-source--">Instalation from Source -</h4>
<p>Here I am using latest release version Nagios 4.4.6.</p>
<pre><code>$ wget https://github.com/NagiosEnterprises/nagioscore/releases/download/nagios-4.4.6/nagios-4.4.6.tar.gz
$ tar -zxvf nagios-4.4.6.tar.gz 
</code></pre><p>Now we have the source code on system lets compile it.</p>
<pre><code>$ ./configure &amp;&amp; make all
</code></pre><p>We have now compiled the source code. Lets add the users to manage config files required for Nagios. The following make file creates nagios user and adds apache user in nagios group.</p>
<pre><code>$ make install -groups-users
$ usermod -a -G nagios apache
</code></pre><p>Now, lets install HTML, CGI snf binary files and install Daemon or service.</p>
<pre><code>$ make install
$ make install-daemoninit
</code></pre><p>We are ready with our service. You can enable service using</p>
<pre><code>$ systemctl enable httpd.service
</code></pre><p>Lets install command mode and configuration files.</p>
<pre><code>$ make install-commandmode
$ make install-config
$ make install-webconf
</code></pre><p>Now we need to update our firewall rules to access nagios dashboard on browser.</p>
<pre><code>$ firewall-cmd --zone=public --add-port=80/tcp
$ firewall-cmd --zone=public --add-port=80/tcp --permanent
</code></pre><p>This will  add rules to firewall config. make sure to use a correct port while configuring firewall.
It&rsquo;s time add authentication for accessing nagios dashboard in browser.
I will  be using Simple HTTP authentication here. Our nagios authentication will be stored in htpasswd.users file in encrypted format. The followed word nagiosadmin is our username for accessing dashboaed.</p>
<pre><code>$ htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin
</code></pre><p>This will prompt you for entering your password. Enter you password. It will again prompt you for confirmation of password just enter again the same password. 
We will now add httpd config file. You can get sample httpd file from sample-config folder inside extracted tar file. Copy that config file into httpd configuration.</p>
<pre><code>$ cp sample-config/httpd.conf /etc/httpd/conf.d/
</code></pre><p>Now we will start both the services.</p>
<pre><code>$ systemctl start nagios &amp;&amp; systemctl start httpd
</code></pre><p>Open your browser and try to access nagios dashboard by http://<IP>/nagios
My system assigned IP is 192.168.0.14 so In my case I will access using http://192.168.0.14/nagios when I access it in browser the browser will ask for username and password. Just enter the same username and password we created above.</p>
<p><a href="https://sourabhdeshmukh.in/images/nagios-auth.PNG"><img src="https://sourabhdeshmukh.in/images/nagios-auth.PNG" alt="nagios auth"></a></p>
<p>After entering credentials press enter and you will be presented with following Nagios Dashboard.</p>
<p><a href="https://sourabhdeshmukh.in/images/nagios-dashoard.PNG"><img src="https://sourabhdeshmukh.in/images/nagios-auth.PNG" alt="nagios dashboard"></a></p>
<p>We have configured nagios successfully. In next posts I will demonstrate about installation of plugins and configuration of nagios for monitoring.</p>
<hr>
  <h2>Comments</h2>
  <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "/")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'sourabhdeshmukh';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <div class="footer" position="absolute">
        <p>Copyright &copy; 2020-2020. sourabhdeshmukh.in. Published with &#10084; Hugo. <a  href="https://sourabhdeshmukh.in/sourabhdeshmukhs-privacy-policy">Privacy Policy</a> and <a  href="https://sourabhdeshmukh.in/sourabhdeshmukhs-terms-of-service">Terms</a>.</p>
    </div>

  </body>
</html>

